<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —á–∞—Ç-–±–æ—Ç–æ–º</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@700&display=swap" rel="stylesheet">  
    <link rel="stylesheet" href="../static/style1.css">
    <link rel="shortcut icon" href="../static/img/favicon.png" class="image/x-icon">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>
</head>
<body>
    <img class="mx-auto d-block" src="../static/img/logo.png" width="700" alt="logo">
    <div class="container">
        <div class="dropdown float-right">
          <button type="button" class="btn btn-dark dropdown-toggle" data-toggle="dropdown">
            –ü—Ä–∏–≤–µ—Ç, <b class="text-warning">{{username}} {{userprofile['status']}}</b>
          </button>
          <div class="dropdown-menu">
            <button type="button" class="dropdown-item" data-toggle="modal" data-target="#mySettingsModal">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
            <a class="dropdown-item" href="/logout">–í—ã—Ö–æ–¥</a>
          </div>
          <div class="modal fade bd-example-modal-lg" id="mySettingsModal" tabindex="-1" role="dialog" aria-labelledby="mySettingsModal" aria-hidden="true">
            <div class="modal-dialog modal-lg" role="document">
              <div class="modal-content">
                <div class="modal-header table-dark">
                  <h5 class="modal-title exampleModalLabel">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è <b class="text-warning">{{username}} {{userprofile['status']}}</b></h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <form class="needs-validation" action="/editSettings" method="POST" novalidate>
                  <div class="modal-body table-dark">
                    <div class="form-row">
                      <div class="col mb-3">
                        <p>–°—Ç–∞—Ç—É—Å –ø—Ä–æ—Ñ–∏–ª—è: </p>
                        <div class="form_radio_group">
                          <div class="form_radio_group-item">        
                            <input id="radio-0" type="radio" name="radio" value="0" disabled>
                            <label for="radio-0">‚ò∫</label>        
                          </div>
                          <div class="form_radio_group-item">        
                            <input id="üòé" type="radio" name="radio" value="üòé">        
                            <label for="üòé">üòé</label>        
                          </div>       
                          <div class="form_radio_group-item">        
                            <input id="üå¥" type="radio" name="radio" value="üå¥">        
                            <label for="üå¥">üå¥</label>        
                          </div>        
                          <div class="form_radio_group-item">        
                            <input id="üåø" type="radio" name="radio" value="üåø">        
                            <label for="üåø">üåø</label>        
                          </div>
                          <div class="form_radio_group-item">        
                            <input id="üê¨" type="radio" name="radio" value="üê¨">        
                            <label for="üê¨">üê¨</label>        
                          </div>
                          <div class="form_radio_group-item">        
                            <input id="üåé" type="radio" name="radio" value="üåé">        
                            <label for="üåé">üåé</label>        
                          </div>        
                          <div class="form_radio_group-item">        
                            <input id="üòä" type="radio" name="radio" value="üòä">        
                            <label for="üòä">üòä</label>        
                          </div>       
                          <div class="form_radio_group-item">        
                            <input id="üçï" type="radio" name="radio" value="üçï">        
                            <label for="üçï">üçï</label>        
                          </div>        
                          <div class="form_radio_group-item">        
                            <input id="‚öΩÔ∏è" type="radio" name="radio" value="‚öΩÔ∏è">        
                            <label for="‚öΩÔ∏è">‚öΩÔ∏è</label>        
                          </div>
                          <div class="form_radio_group-item">        
                            <input id="üå†" type="radio" name="radio" value="üå†">        
                            <label for="üå†">üå†</label>        
                          </div>
                          <div class="form_radio_group-item">        
                            <input id="üíº" type="radio" name="radio" value="üíº">        
                            <label for="üíº">üíº</label>        
                          </div>
                          <div class="form_radio_group-item">        
                            <input id="‚ù§Ô∏è" type="radio" name="radio" value="‚ù§Ô∏è">        
                            <label for="‚ù§Ô∏è">‚ù§Ô∏è</label>        
                          </div>
                          <div class="form_radio_group-item">        
                            <input id="ü•ë" type="radio" name="radio" value="ü•ë">        
                            <label for="ü•ë">ü•ë</label>        
                          </div>
                          <div class="form_radio_group-item">        
                            <input id="‚òïÔ∏è" type="radio" name="radio" value="‚òïÔ∏è">        
                            <label for="‚òïÔ∏è">‚òïÔ∏è</label>        
                          </div>
                          <div class="form_radio_group-item">        
                            <input id="üéì" type="radio" name="radio" value="üéì">        
                            <label for="üéì">üéì</label>        
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="form-row">
                      <div class="col mb-3">
                        <label for="validationCustom10">–¢–æ–∫–µ–Ω VK</label>
                        <input type="text" class="form-control" id="validationCustom10" name="vk-token" value="{{userprofile['vk_token']}}" autocomplete="off" required>
                      </div>
                    </div>
                    <div class="form-row">
                      <div class="col mb-3">
                        <label for="validationCustom11">ID-–ì—Ä—É–ø–ø—ã</label>
                        <input type="text" class="form-control" id="validationCustom11" name="id-group" value="{{userprofile['id_group']}}" autocomplete="off" required>
                      </div>
                    </div>                  
                  </div>
                  <div class="modal-footer table-dark">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">–û—Ç–º–µ–Ω–∞</button>
                    <button type="submit" class="btn btn-default">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
        <h2 class="text-warning">–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤</h2>
        <p>–í —ç—Ç–æ–π —Ç–∞–±–ª–∏—Ü–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –≤—Å–µ –æ—Ç–≤–µ—Ç—ã, –∫–æ—Ç–æ—Ä—ã–º–∏ –±—É–¥–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å –≤–∞—à —á–∞—Ç-–±–æ—Ç:</p>            
        <table class="table table-dark">
          <thead>
            <tr>
                <th class="text-warning">–ù–∞–∑–≤–∞–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞</th>
                <th class="text-warning">–¢–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞</th>
                <th class="text-warning">–ö–ª—é—á–µ–≤–æ–µ –º–µ—Ç–∞-—Å–ª–æ–≤–æ</th>
                <th class="text-warning">–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞</th>
                <th></th>
                <th></th>
            </tr>
          </thead>
          <tbody>
            {%for answer in answers%}
            <tr>
                <td>{{answer['name']}}</td>
                <td>{{answer['text']}}</td>
                <td>{{answer['categories']}}{%if answer['categories'] == '' %} - {%endif%}</td>
                <td>{%for key in answer['keyword']%}{{key}}<br>{%endfor%}</td>
                <td>
                  <button type="button" class="btn btn-default" data-toggle="modal" data-target="#myLargeModalLabel_{{answer['_id']}}" title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å">üìù</button>
                  <div class="modal fade bd-example-modal-lg" id="myLargeModalLabel_{{answer['_id']}}" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-lg" role="document">
                      <div class="modal-content">
                        <div class="modal-header table-dark">
                          <h5 class="modal-title exampleModalLabel">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç</h5>
                          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                        <form class="needs-validation" action="/editAnswer/{{answer['_id']}}/edit" method="POST" novalidate>
                          <div class="modal-body table-dark">
                            <div class="form-row">
                              <div class="col mb-3">
                                <label for="validationCustom01">–ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞</label>
                                <input type="text" class="form-control" id="validationCustom01" name="nameAnswer" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞" value="{{answer['name']}}" autocomplete="off" required>
                              </div>
                            </div>
                            <div class="form-row">
                              <div class="col mb-3">
                                <label for="validationCustom12">–¢–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞</label>
                                <textarea class="form-control" id="validationCustom12" name="textAnswer" placeholder="–¢–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞" required>{{answer['text']}}</textarea>
                              </div>
                            </div>
                            <div class="form-row">
                              <div class="col mb-3">
                                <label for="{user name}">–ü–æ–¥—Å–∫–∞–∑–∫–∏: </label>
                                <input type="button" class="btn btn-info" id="{user name}" value="–ò–º—è" onClick="javascript:daivalue('{user name}')">
                              </div>
                            </div>
                            <div class="form-row">
                              <div class="col mb-3">
                                <label for="validationCustom03">–ö–ª—é—á–µ–≤–æ–µ –º–µ—Ç–∞-—Å–ª–æ–≤–æ</label>
                                <input type="text" class="form-control" id="validationCustom03" name="metawordAnswer" placeholder="–ö–ª—é—á–µ–≤–æ–µ –º–µ—Ç–∞-—Å–ª–æ–≤–æ" value="{{answer['categories']}}{%if answer['categories'] == '' %} - {%endif%}" autocomplete="off" required>
                              </div>
                            </div>
                            <div class="form-row">
                              <div class="col mb-3">
                                <label for="validationCustom04">–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞</label>
                                <input type="text" class="form-control" id="validationCustom04" name="keywordAnswer" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–ª–æ–≤–∞ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é" value="{%for key in answer['keyword']%}{{key}}, {%endfor%}" autocomplete="off" required>
                              </div>
                            </div>                  
                          </div>
                          <div class="modal-footer table-dark">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">–û—Ç–º–µ–Ω–∞</button>
                            <button type="submit" class="btn btn-default">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                          </div>
                        </form>
                      </div>
                    </div>
                  </div>
                </td>
                <td>
                  <button type="button" class="btn btn-warning" data-toggle="modal" data-target="#myModal_{{answer['_id']}}" title="–£–¥–∞–ª–∏—Ç—å">‚ùå</button>
                  <div class="modal fade" id="myModal_{{answer['_id']}}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content table-dark">
                          <div class="modal-header table-dark">
                              <h5 class="modal-title exampleModalLabel">–£–¥–∞–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞</h5>
                              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                              </button>
                            </div>
                            <div class="modal-body table-dark">
                                –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —É–¥–∞–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞ <b class="text-warning">"{{answer['name']}}"</b>
                            </div>
                            <div class="modal-footer table-dark">
                                <butter type="button" class="btn btn-secondary" data-dismiss="modal">–û—Ç–º–µ–Ω–∞</butter>
                                <form action="/answers/{{answer['_id']}}/delete" method="POST">
                                    <button type="submit" class="btn btn-default">–£–¥–∞–ª–∏—Ç—å</button>
                                </form>
                            </div>
                        </div>
                    </div>    
                  </div>
                </td>
            </tr>
            {%endfor%}
          </tbody>
        </table>
        <div id="contbot">
            <form class="formbot" action="/start" method="POST">
              <button type="submit" id="startbot" class="btn btn-default" onClick="javascript:radiobot(id)">–ó–∞–ø—É—Å—Ç–∏—Ç—å —á–∞—Ç-–±–æ—Ç</button>
            </form>
            <form class="formbot" action="/stop" method="POST">
              <button href="#" id="stopbot" class="btn btn-secondary" onClick="javascript:radiobot(id)" disabled>–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —á–∞—Ç-–±–æ—Ç</button>
            </form> 
        </div>
        <button type="button" class="btn btn-success float-right" data-toggle="modal" data-target="#myNewAnswer">–î–æ–±–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç</button>
        <div class="modal fade bd-example-modal-lg" id="myNewAnswer"  tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
              <div class="modal-header table-dark">
                <h5 class="modal-title exampleModalLabel">–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –æ—Ç–≤–µ—Ç</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <form class="needs-validation" action="/addNewAnswer" method="POST" novalidate>
                <div class="modal-body table-dark">
                  <div class="form-row">
                    <div class="col mb-3">
                      <label for="validationCustom01">–ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞</label>
                      <input type="text" class="form-control" id="validationCustom01" name="nameAnswer" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞" autocomplete="off" required/>
                      <div class="invalid-feedback">
                        –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞!
                      </div>
                    </div>
                  </div>
                  <div class="form-row">
                    <div class="col mb-3">
                      <label for="validationCustom02">–¢–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞</label>
                      <textarea class="form-control" id="validationCustom02" name="textAnswer" placeholder="–¢–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞" required></textarea>
                      <div class="invalid-feedback">
                        –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞!
                      </div>
                    </div>
                  </div>
                  <div class="form-row">
                    <div class="col mb-3">
                      <label for="{user name}">–ü–æ–¥—Å–∫–∞–∑–∫–∏: </label>
                      <input type="button" class="btn btn-info" id="{user name}" value="–ò–º—è" onClick="javascript:daivalue('validationCustom02')"/>
                    </div>
                  </div>
                  <div class="form-row">
                    <div class="col mb-3">
                      <label for="validationCustom03">–ö–ª—é—á–µ–≤–æ–µ –º–µ—Ç–∞-—Å–ª–æ–≤–æ</label>
                      <input type="text" class="form-control" id="validationCustom03" name="metawordAnswer" placeholder="–ö–ª—é—á–µ–≤–æ–µ –º–µ—Ç–∞-—Å–ª–æ–≤–æ" value="-" autocomplete="off" required/>
                      <div class="valid-feedback">
                        –ó–∞–ø–æ–ª–Ω–µ–Ω–æ!
                      </div>
                    </div>
                  </div>
                  <div class="form-row">
                    <div class="col mb-3">
                      <label for="validationCustom04">–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞</label>
                      <input type="text" class="form-control" id="validationCustom04" name="keywordAnswer" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–ª–æ–≤–∞ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é" autocomplete="off" required/>
                      <div class="invalid-feedback">
                        –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é!
                      </div>
                    </div>
                  </div>                  
                </div>
                <div class="modal-footer table-dark">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">–û—Ç–º–µ–Ω–∞</button>
                  <button type="submit" class="btn btn-default">–î–æ–±–∞–≤–∏—Ç—å</button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
      <script>
        (function() {
          'use strict';
          window.addEventListener('load', function() {
            var forms = document.getElementsByClassName('needs-validation');
            var validation = Array.prototype.filter.call(forms, function(form) {
              form.addEventListener('submit', function(event) {
                if (form.checkValidity() === false) {
                  event.preventDefault();
                  event.stopPropagation();
                }
                form.classList.add('was-validated');
              }, false);
            });
          }, false);
        })();

        function daivalue (id) {
		      document.getElementById(id).value += '{user name}';	
        };

        document.getElementById("{{userprofile['status']}}").checked = true;

        function radiobot (id) {
          if (id == "startbot"){
            document.getElementById("startbot").disabled = true;
            document.getElementById("stopbot").disabled = false;
          } else {
            document.getElementById("startbot").disabled = false;
            document.getElementById("stopbot").disabled = true;
          }
        };

      </script>
</body>
</html>